<?php
 class Affiliates_Url_Renderer_WordPress extends Affiliates_Url_Renderer { const IXAP174 = 'affiliate-nonce'; const IXAP175 = 'affiliate-nonce-1'; const IXAP176 = 'affiliate-nonce-2'; const IXAP177 = 'affiliate-nonce-filters'; static function init() { add_shortcode( 'affiliates_affiliate_url', array( 'Affiliates_Url_Renderer_WordPress', 'url_shortcode' ) ); add_shortcode( 'affiliates_generate_url', array( 'Affiliates_Url_Renderer_WordPress', 'generate_url_shortcode' ) ); } static function url_shortcode( $IXAP205, $IXAP156 = null ) { $IXAP101 = shortcode_atts( self::$IXAP143, $IXAP205 ); return self::render_affiliate_url( $IXAP101 ); } static function render_affiliate_url( $IXAP101 = array() ) { global $wp_rewrite; $IXAP58 = ''; if ( !isset( $IXAP101['url'] ) ) { $IXAP101['url'] = get_bloginfo( 'url' ); } $IXAP101['pname'] = get_option( 'aff_pname', AFFILIATES_PNAME ); $IXAP58 .= parent::render_affiliate_url( $IXAP101, array( 'Affiliates_Affiliate' => 'Affiliates_Affiliate_WordPress', 'affiliate_id_encoder' => 'affiliates_encode_affiliate_id', 'esc_attr' => 'esc_attr', 'use_parameter' => !$wp_rewrite->using_permalinks() ) ); return $IXAP58; } public static function generate_url_shortcode( $IXAP205, $IXAP156 = null ) { $IXAP221 = isset( $_POST['generate-url'] ) ? trim( $_POST['generate-url'] ) : ''; if ( !empty( $IXAP221 ) ) { if ( ( stripos( $IXAP221, 'http://' ) !== 0 ) && ( stripos( $IXAP221, 'https://' ) !== 0 ) ) { $IXAP221 = 'http://' . $IXAP221; } } $IXAP222 = true; if ( !empty( $IXAP221 ) ) { if ( function_exists( 'filter_var' ) ) { $IXAP222 = filter_var( $IXAP221, FILTER_VALIDATE_URL ) !== false; } } $IXAP223 = !empty( $IXAP221 ) ? self::render_affiliate_url( array( 'url' => $IXAP221, 'type' => self::IXAP148 ) ) : ''; $IXAP58 = ''; $IXAP141 = apply_filters( 'affiliates_generate_url_style', 'div.generate-field span.field-label { display:block; }' . 'div.generate-field span.field-input { display:block; width:62%; }' . 'div.generate-field span.field-input input { width:100%; }' . 'div.generate-field span.error { display:block; color: #900; }' ); if ( !empty( $IXAP141 ) ) { $IXAP58 .= '<style type="text/css">'; $IXAP58 .= $IXAP141; $IXAP58 .= '</style>'; } $IXAP58 .= '<div class="affiliates-generate-url">'; $IXAP58 .= '<form action="" method="post">'; $IXAP58 .= '<div>'; $IXAP58 .= '<div class="generate-field generate-url">'; $IXAP58 .= '<label>'; $IXAP58 .= '<span class="field-label">'; $IXAP58 .= __( 'Page URL', AFFILIATES_PRO_PLUGIN_DOMAIN ); $IXAP58 .= '</span>'; $IXAP58 .= sprintf( '<span class="error" style="%s">', $IXAP222 ? 'display:none;' : '' ); $IXAP58 .= __( 'Please enter a valid URL.', AFFILIATES_PRO_PLUGIN_DOMAIN ); $IXAP58 .= '</span>'; $IXAP58 .= '<span class="field-input">'; $IXAP58 .= sprintf( '<input type="text" name="generate-url" value="%s" />', $IXAP221 ); $IXAP58 .= '</span>'; $IXAP58 .= '</label>'; $IXAP58 .= '</div>'; $IXAP58 .= '<div class="generate-field affiliate-url">'; $IXAP58 .= '<label>'; $IXAP58 .= '<span class="field-label">'; $IXAP58 .= __( 'Affiliate URL', AFFILIATES_PRO_PLUGIN_DOMAIN ); $IXAP58 .= '</span>'; $IXAP58 .= '<span class="field-input">'; $IXAP58 .= sprintf( '<input type="text" name="affiliate-url" value="%s" readonly="readonly" />', $IXAP223 ); $IXAP58 .= '</span>'; $IXAP58 .= '</label>'; $IXAP58 .= '</div>'; $IXAP58 .= '<div class="generate-button">'; $IXAP58 .= sprintf( '<input type="submit" name="generate" value="%s"', __( 'Generate', AFFILIATES_PRO_PLUGIN_DOMAIN ) ); $IXAP58 .= '</div>'; $IXAP58 .= '</div>'; $IXAP58 .= '</form>'; $IXAP58 .= '</div>'; return $IXAP58; } } Affiliates_Url_Renderer_WordPress::init(); 